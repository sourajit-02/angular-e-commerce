(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"3jcG":function(t,e,i){"use strict";i.d(e,"a",function(){return v});var o=i("fXoL"),r=i("aiL1"),s=i("5eHb"),c=i("zkoq"),n=i("3Pt+"),l=i("Cfvw"),a=i("pLZG"),b=i("IAdc"),p=i("ofXK"),h=i("kmnG"),f=i("qFsG"),d=i("NFeN"),u=i("tyNb"),g=i("bSwM");function m(t,e){if(1&t&&(o.Sb(0,"li",16),o.Sb(1,"a",17),o.Jc(2),o.Rb(),o.Rb()),2&t){const t=e.$implicit;o.Ab(1),o.kc("routerLink",t.link),o.Ab(1),o.Kc(t.type)}}function k(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",16),o.Sb(1,"mat-checkbox",18),o.Zb("change",function(i){o.xc(t);const r=e.$implicit;return o.dc().filterByColors(i,r.name)}),o.Jc(2),o.ec(3,"uppercase"),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.Ab(2),o.Lc(" ",o.fc(3,1,t.name)," ")}}function w(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",16),o.Sb(1,"mat-checkbox",19),o.Zb("change",function(i){o.xc(t);const r=e.$implicit;return o.dc().filterByPrices(i,r.min,r.max)}),o.Jc(2),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.Ab(2),o.Mc(" ",t.min,"-",t.max," ")}}function O(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",16),o.Sb(1,"mat-checkbox",20),o.Zb("change",function(i){o.xc(t);const r=e.$implicit;return o.dc().filterBySizes(i,r.size)}),o.Jc(2),o.Rb(),o.Rb()}if(2&t){const t=e.$implicit;o.Ab(2),o.Lc(" ",t.size," ")}}function S(t,e){if(1&t&&(o.Sb(0,"mat-error"),o.Jc(1),o.Rb()),2&t){const t=o.dc();o.Ab(1),o.Lc(" ",t.getError("search")," ")}}let R=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.productService=e,this.toastr=i,this.colors=[],this.prices=[],this.sizes=[],this.categories=[],this.filteredList=[],this.filterFlag=!1,this.duplicateItems=[]}ngOnInit(){this.getAllOptions(),this.createForm(),this.checkFlag()}createForm(){this.searchForm=this.formBuilder.group({search:["",[n.q.required]]}),this.colorsForm=this.formBuilder.group({colors:new n.d(!1)}),this.pricesForm=this.formBuilder.group({prices:new n.d(!1)}),this.sizesForm=this.formBuilder.group({sizes:new n.d(!1)})}getError(t){switch(t){case"search":return"Enter something to search";default:return""}}filterByColors(t,e){console.log(this.colorsForm.value.colors),console.log(t.checked),this.getFilteredProducts(t.checked,"color",e),console.log(this.filteredList)}filterByPrices(t,e,i){console.log(this.pricesForm.value.prices),console.log(t.checked),!0===t.checked&&this.getFilteredProducts(t.checked,"price",e,i)}filterBySizes(t,e){console.log(this.sizesForm.value.sizes),console.log(t.checked),!0===t.checked&&this.getFilteredProducts(t.checked,"size",e)}checkFlag(){0===this.filteredList.length&&(this.filterFlag=!1)}onSearch(){console.log(this.searchForm.value)}getFilteredProducts(t,e,i,o){const r=Object(l.a)(this.productList);switch(e){case"color":r.pipe(Object(a.a)(t=>t.productColor===i),Object(b.a)()).subscribe(o=>{if(!0===t){for(const t in o)Object(l.a)(this.filteredList).pipe(Object(a.a)(e=>e.productId===o[t].productId),Object(b.a)()).subscribe(e=>{this.duplicateItems=e,0===e.length&&this.filteredList.push(o[t])});this.filterFlag=!0,console.log(e),console.log(i)}else if(0!==this.filteredList.length&&0!==this.duplicateItems.length)for(const t in this.filteredList)Object(l.a)(this.duplicateItems).pipe(Object(a.a)(e=>e.productId===this.filteredList[t].productId),Object(b.a)()).subscribe(t=>{});this.checkFlag(),console.log(this.filteredList),console.log(this.duplicateItems)});break;case"price":r.pipe(Object(a.a)(t=>t.productPrice>i&&t.productPrice<o),Object(b.a)()).subscribe(t=>{for(const e in t)this.filteredList.push(t[e]);this.filterFlag=!0,console.log(e),console.log(i),console.log(this.filteredList)});break;case"size":r.pipe(Object(a.a)(t=>t.productSize===i),Object(b.a)()).subscribe(o=>{if(!0===t){for(const t in o)Object(l.a)(this.filteredList).pipe(Object(a.a)(e=>e.productId===o[t].productId),Object(b.a)()).subscribe(e=>{0===e.length&&this.filteredList.push(o[t])});this.filterFlag=!0,console.log(e),console.log(i)}else 0!==this.filteredList.length&&Object(l.a)(this.filteredList).pipe(Object(a.a)(t=>t.productSize!==i),Object(b.a)()).subscribe(t=>{if(0!==t.length)if(0===this.duplicateItems.length)this.duplicateItems=t;else for(const e in t)Object(l.a)(this.duplicateItems).pipe(Object(a.a)(i=>i.productId===t[e].productId),Object(b.a)()).subscribe(i=>{0===i.length&&this.duplicateItems.push(t[e])})});this.checkFlag(),console.log(this.duplicateItems),console.log(this.filteredList)});break;default:console.log(e)}}getLeftbarOptions(t,e){let i=[];return this.productService.getFilterOptions(t).subscribe(t=>{if("object"==typeof t)for(let o in t)0!==Object.keys(t[o]).length?i.push(t[o]):this.toastr.warning("Oops!! all options not loaded!! "+e,"Error:",{closeButton:!0});else this.toastr.error("Oops!! "+e,"Error:",{closeButton:!0})},t=>{console.log(t),this.toastr.error(t.message?""+t.message:""+t,""+e,{closeButton:!0})}),i}getAllOptions(){this.colors=this.getLeftbarOptions("/1","Error: Failed to load Product Colors Filtering Options!!"),this.prices=this.getLeftbarOptions("/2","Error: Failed to load Product Prices Filtering Options!!"),this.sizes=this.getLeftbarOptions("/3","Error: Failed to load Product Sizes Filtering Options!!"),this.categories=this.getLeftbarOptions("/4","Error: Failed to load Product Categories Links!!")}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(n.c),o.Mb(r.a),o.Mb(s.b))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-leftbar"]],inputs:{productList:"productList"},decls:40,vars:9,consts:[[1,"leftbar"],[1,"leftbar-content"],[1,"leftbar-items"],[1,"example-list-section"],[1,"leftbar-items-lists"],["class","leftbar-items-list",4,"ngFor","ngForOf"],[3,"formGroup"],["form1","ngForm"],["form2","ngForm"],["form3","ngForm"],[1,"leftbar-form",3,"formGroup","ngSubmit"],["form4","ngForm"],[1,"leftbar-form-search"],["type","search","matInput","","placeholder","Search","formControlName","search"],["matSuffix",""],[4,"ngIf"],[1,"leftbar-items-list"],[1,"leftbar-items-links",3,"routerLink"],["formControlName","colors","color","accent",3,"change"],["formControlName","prices","color","accent",3,"change"],["formControlName","sizes","color","accent",3,"change"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.Sb(1,"div",1),o.Sb(2,"div",2),o.Sb(3,"h4"),o.Jc(4,"Categories"),o.Rb(),o.Sb(5,"span",3),o.Sb(6,"ul",4),o.Ic(7,m,3,2,"li",5),o.Rb(),o.Rb(),o.Rb(),o.Sb(8,"div",2),o.Sb(9,"h4"),o.Jc(10,"Color"),o.Rb(),o.Sb(11,"form",6,7),o.Sb(13,"span",3),o.Sb(14,"ul",4),o.Ic(15,k,4,3,"li",5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(16,"div",2),o.Sb(17,"h4"),o.Jc(18,"Price"),o.Rb(),o.Sb(19,"form",6,8),o.Sb(21,"span",3),o.Sb(22,"ul",4),o.Ic(23,w,3,2,"li",5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(24,"div",2),o.Sb(25,"h4"),o.Jc(26,"Size"),o.Rb(),o.Sb(27,"form",6,9),o.Sb(29,"span",3),o.Sb(30,"ul",4),o.Ic(31,O,3,1,"li",5),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Sb(32,"div",2),o.Sb(33,"form",10,11),o.Zb("ngSubmit",function(){return e.onSearch()}),o.Sb(35,"mat-form-field",12),o.Nb(36,"input",13),o.Sb(37,"mat-icon",14),o.Jc(38,"search"),o.Rb(),o.Ic(39,S,2,1,"mat-error",15),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.tc(34);o.Ab(7),o.jc("ngForOf",e.categories),o.Ab(4),o.jc("formGroup",e.colorsForm),o.Ab(4),o.jc("ngForOf",e.colors),o.Ab(4),o.jc("formGroup",e.pricesForm),o.Ab(4),o.jc("ngForOf",e.prices),o.Ab(4),o.jc("formGroup",e.sizesForm),o.Ab(4),o.jc("ngForOf",e.sizes),o.Ab(2),o.jc("formGroup",e.searchForm),o.Ab(6),o.jc("ngIf",e.searchForm.get("search").hasError("required")&&t.submitted)}},directives:[p.l,n.r,n.m,n.g,h.c,f.a,n.b,n.l,n.f,d.a,h.g,p.m,u.f,g.a,h.b],pipes:[p.v],styles:[".leftbar-content[_ngcontent-%COMP%]{color:#666;display:grid;grid-gap:8%}.leftbar-content[_ngcontent-%COMP%]   .leftbar-items[_ngcontent-%COMP%]{margin:2% 4%}.leftbar-form[_ngcontent-%COMP%]{min-width:100px;max-width:200px;width:100%}.leftbar-form-search[_ngcontent-%COMP%]{width:100%}h4[_ngcontent-%COMP%]{color:#333;margin:1% 0}.leftbar-items-links[_ngcontent-%COMP%]{text-decoration:none;color:#888}.leftbar-items-lists[_ngcontent-%COMP%]{padding:0;list-style:none}"]}),t})();var B=i("Wp6s"),F=i("PQB4");function L(t,e){if(1&t&&(o.Sb(0,"mat-grid-tile",6),o.Sb(1,"mat-card",7),o.Nb(2,"app-product-item",8),o.Rb(),o.Rb()),2&t){const t=e.$implicit;o.Ab(2),o.jc("productItem",t)}}function j(t,e){if(1&t&&(o.Sb(0,"div"),o.Ic(1,L,3,1,"mat-grid-tile",5),o.Rb()),2&t){o.dc();const t=o.tc(3);o.Ab(1),o.jc("ngForOf",t.filteredList)}}function I(t,e){if(1&t&&(o.Sb(0,"mat-grid-tile",6),o.Sb(1,"mat-card",7),o.Nb(2,"app-product-item",8),o.Rb(),o.Rb()),2&t){const t=e.$implicit;o.Ab(2),o.jc("productItem",t)}}function P(t,e){if(1&t&&(o.Sb(0,"div"),o.Ic(1,I,3,1,"mat-grid-tile",5),o.Rb()),2&t){const t=o.dc();o.Ab(1),o.jc("ngForOf",t.productList)}}let v=(()=>{class t{constructor(t,e){this.productService=t,this.toastr=e,this.leftbarRowspan=4}ngOnInit(){this.getProductList(),this.getBreakpoints(window.innerWidth)}getProductList(){this.productService.getProducts().subscribe(t=>{t&&"object"==typeof t[0]&&t[0].hasOwnProperty("productId")?this.productList=t:(this.productList=[],this.toastr.warning("Products List is either empty or undefined or null.All the products are not loaded !!","Warning:",{closeButton:!0}))},t=>{console.log(t),this.toastr.error(t.message?""+t.message:""+t,"Error: Loading Product List was Unsuccessful!!",{closeButton:!0})})}onResize(t){this.getBreakpoints(t.target.innerWidth)}getBreakpoints(t){t>1900?(this.colBreakpoint=4,this.rowBreakpoint=360):t>1800?(this.colBreakpoint=4,this.rowBreakpoint=320):t>1690?(this.colBreakpoint=4,this.rowBreakpoint=300):t>1480?(this.colBreakpoint=4,this.rowBreakpoint=280):t>1330?(this.colBreakpoint=4,this.rowBreakpoint=250):t>1260?(this.colBreakpoint=4,this.rowBreakpoint=225,this.leftbarRowspan=6):t>1080?(this.colBreakpoint=3,this.rowBreakpoint=280,this.leftbarRowspan=8):t>870?(this.colBreakpoint=3,this.rowBreakpoint=250,this.leftbarRowspan=6):t>760?(this.colBreakpoint=3,this.rowBreakpoint=200,this.leftbarRowspan=8):t>600?(this.colBreakpoint=2,this.rowBreakpoint=250,this.leftbarRowspan=8):t>550?(this.colBreakpoint=2,this.rowBreakpoint=210,this.leftbarRowspan=12):t>480?(this.colBreakpoint=1,this.rowBreakpoint=350,this.leftbarRowspan=2):t>390?(this.colBreakpoint=1,this.rowBreakpoint=310,this.leftbarRowspan=3):t>350?(this.colBreakpoint=1,this.rowBreakpoint=250,this.leftbarRowspan=3):t>290?(this.colBreakpoint=1,this.rowBreakpoint=225,this.leftbarRowspan=4):(this.colBreakpoint=1,this.rowBreakpoint=200,this.leftbarRowspan=4)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(r.a),o.Mb(s.b))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-product-list"]],decls:6,vars:6,consts:[[1,"products",3,"cols","rowHeight","resize"],["colspan","1",3,"rowspan"],[1,"leftbar",3,"productList"],["leftbar",""],[4,"ngIf"],["rowspan","2","colspan","1",4,"ngFor","ngForOf"],["rowspan","2","colspan","1"],[1,"product-card"],[3,"productItem"]],template:function(t,e){if(1&t&&(o.Sb(0,"mat-grid-list",0),o.Zb("resize",function(t){return e.onResize(t)},!1,o.wc),o.Sb(1,"mat-grid-tile",1),o.Nb(2,"app-leftbar",2,3),o.Rb(),o.Ic(4,j,2,1,"div",4),o.Ic(5,P,2,1,"div",4),o.Rb()),2&t){const t=o.tc(3);o.jc("cols",e.colBreakpoint)("rowHeight",e.rowBreakpoint),o.Ab(1),o.jc("rowspan",e.leftbarRowspan),o.Ab(1),o.jc("productList",e.productList),o.Ab(2),o.jc("ngIf",!0===t.filterFlag),o.Ab(1),o.jc("ngIf",!0!==t.filterFlag)}},directives:[c.a,c.c,R,p.m,p.l,B.a,F.a],styles:[".products[_ngcontent-%COMP%]{margin:5% 3%}.leftbar[_ngcontent-%COMP%]{align-self:baseline}"]}),t})()},"Lv5+":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var o=i("ofXK"),r=i("fXoL");let s=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},qm8E:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var o=i("fXoL");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-titlebar"]],inputs:{titleText:"titleText",subTitleText:"subTitleText"},decls:5,vars:2,consts:[[1,"title"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"h2"),o.Jc(2),o.Rb(),o.Sb(3,"p"),o.Jc(4),o.Rb(),o.Rb()),2&t&&(o.Ab(2),o.Kc(e.titleText),o.Ab(2),o.Kc(e.subTitleText))},styles:[".title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:32px;color:#fff;line-height:1.2;text-transform:uppercase;height:inherit;flex-direction:column}.title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1%}"]}),t})()}}]);