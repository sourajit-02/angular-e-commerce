<ng-container *ngIf="filter === true">
  <mat-form-field>
    <mat-label>Search</mat-label>
    <input
      matInput
      (keyup)="applyFilter($event.target.value)"
      placeholder="search"
      #input
    />
  </mat-form-field>
</ng-container>
<div class="table-wrapper">
  <div class="table-container">
    <table mat-table #table [dataSource]="dataSource" matSort>
      <ng-container
        [matColumnDef]="column"
        *ngFor="let column of objectKeys(displayedColumns)"
      >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ displayedColumns[column] }}
        </th>
        <ng-container *ngIf="column === 'actions'" ; else noActions>
          <td mat-cell *matCellDef="let row">
            <div class="actions">
              <ng-container *ngFor="let action of row[column]">
                <button
                  mat-icon-button
                  (click)="emitRowAction({ data: row, action: action })"
                >
                  <mat-icon>{{ action | lowercase }}</mat-icon>
                </button>
              </ng-container>
            </div>
          </td>
        </ng-container>
        <ng-container #noActions>
          <td mat-cell *matCellDef="let row">
            <ng-container *ngIf="row">
              <div class="table-cell-content" [innerHtml]="row[column]"></div>
            </ng-container>
          </td>
        </ng-container>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="objectKeys(displayedColumns)"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: objectKeys(displayedColumns)"
      ></tr>

      <!-- Row shown when there is no matching data. -->
      <tr mat-row *matNoDataRow>
        <td mat-cell colspan="4" *ngIf="input">
          No data matching the filter "{{ input.value }}"
        </td>
      </tr>
    </table>
  </div>
  <ng-container *ngIf="pagination === true">
    <mat-paginator
      [length]="paginationData['length']"
      [pageSize]="paginationData['pageSize']"
      [pageSizeOptions]="paginationData['pageSizeOptions']"
      showFirstLastButtons
    >
    </mat-paginator>
  </ng-container>
</div>
